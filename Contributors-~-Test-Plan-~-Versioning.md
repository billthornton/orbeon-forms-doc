> [[Home]] ▸ Contributors ▸ [[Test Plan|Contributors ~ Test Plan]]

## Steps

- create form db2/a
    - input field A + file + image attachment
    - publish
    - go to new page
    - enter value a in field A, attach file
    - review and back to edit
    - save
- edit the form definition
    - rename field in B
    - remove image attachment ([#1911](https://github.com/orbeon/orbeon-forms/issues/1911))
    - publish
    - go to new page
    - enter value b in field B, attach file
    - review and back to edit
    - save
- [#1911](https://github.com/orbeon/orbeon-forms/issues/1911)
    - FR: check that previous form data loads image
- XML Schema production
    - `/fr/service/(oracle|mysql|sqlserver|db2)/a/schema`
        - schema with B is produced
    - `/fr/service/(oracle|mysql|sqlserver|db2)/a/schema?form-version=1`
        - *NOTE: Adjust version numbers depending on which versions were published.*
        - schema with A is produced
- go to the summary page, click on first row (created last)
    - check field B/value b and attachment show
    - check PDF
- go to the summary page, click on second row (created first)
    - check field A/value a and attachment show
    - check PDF
- Form Builder Publish dialog options (new in 4.6)
    - with persistence layer which supports versioning (mysql)
        - if mysql/a form has never been published
            - no options and no messages are shown
            - latest version shows "-"
            - publish message says version 1 was created
        - if mysql/a form has been published
            - latest version shows correct number
            - option to create new version or overwrite (check version numbers)
            - switch option shows different message
            - publish message says which version was created/updated
    - with persistence layer which doesn't support versioning (exist)
        - latest version line doesn't show
        - if no exist/a form has been published
            - no options and no messages are shown
        - if exist/a form has been published
            - no options are shown
            - message about overwrite
        - publish message says version 1 was updated